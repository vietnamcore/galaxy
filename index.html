<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>3D Planet Orbit Effect</title>

<script src="https://cdn.jsdelivr.net/npm/three@0.156.0/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.156.0/examples/js/controls/OrbitControls.js"></script>

<style>
  html,body{margin:0;height:100%;overflow:hidden;background:#000;}
  canvas{display:block}
</style>
</head>
<body>
<script>
const scene = new THREE.Scene();

// camera
const camera = new THREE.PerspectiveCamera(60, window.innerWidth/window.innerHeight, 0.1, 1000);
camera.position.set(0,2,8);

// renderer
const renderer = new THREE.WebGLRenderer({antialias:true});
renderer.setSize(window.innerWidth, window.innerHeight);
document.body.appendChild(renderer.domElement);

// controls
const controls = new THREE.OrbitControls(camera, renderer.domElement);
controls.enableDamping = true;

// ánh sáng
scene.add(new THREE.AmbientLight(0xffffff,0.4));
const pointLight = new THREE.PointLight(0xffffff,1.2);
pointLight.position.set(5,5,5);
scene.add(pointLight);

// hành tinh chính
const planetGeo = new THREE.SphereGeometry(1.5,64,64);
const planetMat = new THREE.MeshStandardMaterial({
  color:0x3366ff,
  roughness:0.7,
  metalness:0.1
});
const planet = new THREE.Mesh(planetGeo, planetMat);
scene.add(planet);

// glow mờ
const glowGeo = new THREE.SphereGeometry(1.6,32,32);
const glowMat = new THREE.MeshBasicMaterial({
  color:0x44aaff,
  transparent:true,
  opacity:0.15,
  blending:THREE.AdditiveBlending
});
const glow = new THREE.Mesh(glowGeo, glowMat);
scene.add(glow);

// ngôi sao nền
function createStars(count){
  const geo = new THREE.BufferGeometry();
  const pos = [];
  for(let i=0;i<count;i++){
    const x = (Math.random()-0.5)*400;
    const y = (Math.random()-0.5)*400;
    const z = (Math.random()-0.5)*400;
    pos.push(x,y,z);
  }
  geo.setAttribute("position", new THREE.Float32BufferAttribute(pos,3));
  const mat = new THREE.PointsMaterial({color:0xffffff,size:0.8});
  const stars = new THREE.Points(geo,mat);
  scene.add(stars);
}
createStars(1500);

// tạo các "vệ tinh" bay quanh
const orbiters = [];
const orbGeo = new THREE.SphereGeometry(0.2,16,16);
for(let i=0;i<6;i++){
  const mat = new THREE.MeshStandardMaterial({color: new THREE.Color(`hsl(${i*60},100%,50%)`)});
  const orb = new THREE.Mesh(orbGeo, mat);
  scene.add(orb);
  orbiters.push({mesh:orb, radius:3+i*0.6, speed:0.5+Math.random()*0.8, angle:Math.random()*Math.PI*2});
}

// animate
function animate(){
  requestAnimationFrame(animate);

  planet.rotation.y += 0.002;
  glow.rotation.y += 0.001;

  orbiters.forEach(o=>{
    o.angle += 0.01 * o.speed;
    o.mesh.position.set(Math.cos(o.angle)*o.radius,0,Math.sin(o.angle)*o.radius);
  });

  controls.update();
  renderer.render(scene,camera);
}
animate();

window.addEventListener("resize",()=>{
  camera.aspect=window.innerWidth/window.innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(window.innerWidth,window.innerHeight);
});
</script>
</body>
</html>
